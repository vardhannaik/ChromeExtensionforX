<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Control Panel for X</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 400px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: #15202b;
      color: #fff;
      padding: 16px;
    }

    h1 {
      font-size: 20px;
      margin-bottom: 16px;
      color: #1da1f2;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section {
      margin-bottom: 20px;
    }

    .section-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 10px;
      color: #8899a6;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .option {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #38444d;
    }

    .option:last-child {
      border-bottom: none;
    }

    .option-label {
      font-size: 14px;
      color: #e1e8ed;
      flex: 1;
    }

    .option-description {
      font-size: 12px;
      color: #8899a6;
      margin-top: 4px;
    }

    .toggle {
      position: relative;
      width: 44px;
      height: 24px;
      background: #38444d;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .toggle.active {
      background: #1da1f2;
    }

    .toggle::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 50%;
      top: 2px;
      left: 2px;
      transition: transform 0.3s;
    }

    .toggle.active::after {
      transform: translateX(20px);
    }

    .save-btn {
      width: 100%;
      padding: 12px;
      background: #1da1f2;
      color: white;
      border: none;
      border-radius: 20px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }

    .save-btn:hover {
      background: #1a91da;
    }

    .save-btn:active {
      transform: scale(0.98);
    }

    .saved-message {
      text-align: center;
      color: #17bf63;
      font-size: 14px;
      margin-top: 8px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .saved-message.show {
      opacity: 1;
    }
  </style>
</head>
<body>
  <h1>
    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
      <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
    </svg>
    Control Panel for X
  </h1>

  <div class="section">
    <div class="section-title">Content Filtering</div>
    
    <div class="option">
      <div>
        <div class="option-label">Hide verified accounts' tweets</div>
        <div class="option-description">Hide tweets from verified accounts (except those you follow)</div>
      </div>
      <div class="toggle" data-setting="hideCheckmarks"></div>
    </div>

    <div class="option">
      <div>
        <div class="option-label">Hide ads</div>
        <div class="option-description">Remove promoted content</div>
      </div>
      <div class="toggle" data-setting="hideAds"></div>
    </div>

    <div class="option">
      <div>
        <div class="option-label">Hide parody accounts</div>
        <div class="option-description">Hide tweets from parody/fan accounts</div>
      </div>
      <div class="toggle" data-setting="hideParody"></div>
    </div>

    <div class="option">
      <div>
        <div class="option-label">Auto Mute Tweets</div>
        <div class="option-description">Auto-mute accounts posting only images/videos (no text)</div>
      </div>
      <div class="toggle" data-setting="hideMediaOnlyTweets"></div>
    </div>
    
    <div class="option">
      <div>
        <div class="option-label">Mute Emoji Tweets</div>
        <div class="option-description">Auto-mute accounts posting tweets with emojis</div>
      </div>
      <div class="toggle" data-setting="muteEmojis"></div>
    </div>
    
    <div class="option">
      <div>
        <div class="option-label">Enable debug logging</div>
        <div class="option-description">Show detailed logs in console (for troubleshooting)</div>
      </div>
      <div class="toggle" data-setting="debugLogging"></div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">Keyword Controls</div>
    
    <div class="option">
      <div>
        <div class="option-label">Enable keyword muting</div>
        <div class="option-description">Auto-mute accounts via X when keywords match</div>
      </div>
      <div class="toggle" data-setting="keywordMutingEnabled"></div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">Auto-Mute</div>
    
    <div class="option">
      <div>
        <div class="option-label">Enable automatic muting</div>
        <div class="option-description">Auto-trigger mute when queue reaches threshold</div>
      </div>
      <div class="toggle" data-setting="autoMuteEnabled"></div>
    </div>

    <div class="option">
      <div style="flex: 1;">
        <div class="option-label">Auto-mute threshold</div>
        <div class="option-description">Number of accounts before auto-mute triggers</div>
      </div>
      <select id="autoMuteThreshold" style="
        background: #192734;
        color: #fff;
        border: 1px solid #38444d;
        border-radius: 6px;
        padding: 6px 12px;
        font-size: 14px;
        cursor: pointer;
        outline: none;
      ">
        <option value="5">5 accounts</option>
        <option value="10" selected>10 accounts</option>
        <option value="15">15 accounts</option>
        <option value="20">20 accounts</option>
        <option value="30">30 accounts</option>
        <option value="50">50 accounts</option>
      </select>
    </div>

    <div class="option">
      <div style="flex: 1;">
        <div class="option-label">Delay between accounts</div>
        <div class="option-description">Time to wait between each account</div>
      </div>
      <select id="autoMuteDelay" style="
        background: #192734;
        color: #fff;
        border: 1px solid #38444d;
        border-radius: 6px;
        padding: 6px 12px;
        font-size: 14px;
        cursor: pointer;
        outline: none;
      ">
        <option value="1000">1 second</option>
        <option value="2000" selected>2 seconds</option>
        <option value="3000">3 seconds</option>
        <option value="5000">5 seconds</option>
      </select>
    </div>

    <div class="option">
      <div style="flex: 1;">
        <div class="option-label">Page load timeout</div>
        <div class="option-description">Max time to wait for page to load</div>
      </div>
      <select id="pageLoadTimeout" style="
        background: #192734;
        color: #fff;
        border: 1px solid #38444d;
        border-radius: 6px;
        padding: 6px 12px;
        font-size: 14px;
        cursor: pointer;
        outline: none;
      ">
        <option value="5000">5 seconds</option>
        <option value="10000" selected>10 seconds</option>
        <option value="15000">15 seconds</option>
        <option value="20000">20 seconds</option>
      </select>
    </div>

    <div class="option" style="border-bottom: none;">
      <div style="flex: 1;">
        <div class="option-label">SPA render delay</div>
        <div class="option-description">Wait time for React to render profile</div>
      </div>
      <select id="spaRenderDelay" style="
        background: #192734;
        color: #fff;
        border: 1px solid #38444d;
        border-radius: 6px;
        padding: 6px 12px;
        font-size: 14px;
        cursor: pointer;
        outline: none;
      ">
        <option value="500">0.5 seconds</option>
        <option value="1000">1 second</option>
        <option value="1500" selected>1.5 seconds</option>
        <option value="2000">2 seconds</option>
        <option value="3000">3 seconds</option>
      </select>
    </div>
  </div>

  <div class="section">
    <div class="section-title">Statistics</div>
    <div style="font-size: 13px; color: #8899a6; line-height: 1.6;">
      <div style="display: flex; justify-content: space-between; padding: 4px 0;">
        <span>Keywords:</span>
        <span id="muteKeywordCount">0</span>
      </div>
      <div style="display: flex; justify-content: space-between; padding: 4px 0;">
        <span>Muted accounts:</span>
        <span id="mutedAccountCount">0</span>
      </div>
      <div style="margin-top: 10px; padding: 8px; background: #192734; border-radius: 8px; font-size: 12px;">
        ðŸ’¡ Open browser console (F12) and type:<br>
        <code style="color: #1da1f2;">XControlPanel.help()</code>
      </div>
    </div>
  </div>

  <button class="save-btn" id="saveBtn">Save Settings</button>
  <div class="saved-message" id="savedMessage">Settings saved!</div>

  <script src="popup.js"></script>
</body>
</html>
